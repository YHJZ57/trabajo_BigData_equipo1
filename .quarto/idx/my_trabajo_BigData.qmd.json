{"title":"El tráfico marítimo de Colombia","markdown":{"yaml":{"title":"El tráfico marítimo de Colombia","description":"","author":["Yutao Henry Jiang Zheng (yujiangz@alumni.uv.es)\\n","Lucas Osejo Martínez (luomar2@alumni.uv.es)\\n","Javier Arnau Basagoiti Montagut (jabamon@alumni.uv.es)"],"date":"2025-12-02","categories":["trabajo BigData","Tráfico Marítimo"],"image":"Directions Boat","title-block-banner":"imagenes/Banner_puerto.jpg","title-block-banner-color":"skyblue3","toc-depth":3,"smooth-scroll":true,"format":{"html":{"link-external-newwindow":true}},"code-tools":true,"code-link":true},"headingText":"1. Introducción","containsRefs":false,"markdown":"\n\n\n\nEl comercio marítimo es uno de los pilares más grandes de la economía colombiana y su sistema portuario es vital para su conexión global. En este trabajo realizamos un análisis profundo sobre el tráfico que atraviesa los principales puertos del país.\nComenzamos examinando la geografía y distribución de los puertos clave, una visualización esencial para entender la marcada asimetría entre la Costa Caribe y el Pacífico. Posteriormente, el estudio se concentra en las operaciones, detallando la tipología de las embarcaciones que llegan y la composición del cargamento que se moviliza. Finalmente, interpretamos el desempeño económico del sistema a través del análisis de las importaciones y exportaciones, y se revisa su evolución temporal para obtener una perspectiva completa de la competitividad logística de Colombia.\n\n# 2. Datos\n\nPara realizar el trabajo utiilizamos los siguientes datos:\n\n::: {.panel-tabset}\n\n## Fuente de los datos\nLos datos utilizados provienen de distintas fuentes, entre ellas la base pública “[Datos Abiertos](https://www.datos.gov.co/Transporte/Trafico-Portuario-Mar-timo-En-Colombia/5r3g-zv5z/about_data){target=\"_blank\"}” de Colombia, la Superintendencia de Transporte ([SuperTransporte](https://www.supertransporte.gov.co/index.php/superintendencia-delegada-de-puertos/estadisticas-trafico-portuario-en-colombia/){target=\"_blank\"}) y la Dirección General Marítima ([DIMAR](https://www.dimar.mil.co/trafico-maritimo){target=\"_blank\"}).\n\n\n\n\n\n## Datos usados\n- df_TM_Puerto → Tráfico portuario por ciudad, incluye importaciones y exportaciones y        \n                               diferencia entre público y privado\n- df_C.Arribo → La cantidad de arribos por puerto, diferencia entre nacional e internacional\n- df_tipoBarco → Los tipos de barcos que llega a cada puerto\n- df_TipoCarga → El tipo de cargamento que llega a cada puerto \n- df_CargaPuerto → La cantidad de movimiento de carga de cada puerto\n\n## Paquetes utilizados\n```{r}\n#| results: hide \n#| warning: false \n#| message: false\n\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(rio) \nlibrary(janitor)\nlibrary(ggthemes)\nlibrary(scales)\nlibrary(patchwork)\nlibrary(plotly)\nlibrary(sf)\nlibrary(ggrepel)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(gganimate)\nlibrary(dplyr)\nlibrary(gifski)\n```\n\n\n## Codigo de los datos\n\n```{r}\n#| results: hide \n#| warning: false \n#| message: false\n\ndf_TM_Puerto <- rio::import(\"https://www.datos.gov.co/resource/5r3g-zv5z.csv\")\ndf_TM_Puerto <- df_TM_Puerto|>group_by(zona_portuaria)|>mutate(Costa=case_when(zona_portuaria%in%c(\"BARRANCABERMEJA\",\"Z.P. RIO MAGDALENA\")~\"Fluvial\",zona_portuaria%in%c(\"BUENAVENTURA\",\"TUMACO\")~\"Pacifico\", .default=\"Caribe\"))\n\ndf_C.Arribo <- rio::import(\"https://www.dimar.mil.co/sites/default/files/noticias/E1-FOR-117-Series-Historicas-trafico-maritimo-2018-2024.xlsx\", \n                              col_names = FALSE,\n                              sheet = \"Serie histórica 1\",\n                              skip = 10)\ndf_C.Arribo <- janitor::clean_names(df_C.Arribo)\ndf_C.Arribo <- df_C.Arribo %>% tidyr::fill(x1, .direction = \"down\")\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Subtotal\") )\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Total\")  )\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Fuente.\"))\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Nota\") )\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x3, \"Arribo\")) \ndf_C.Arribo <- df_C.Arribo %>% janitor::remove_empty(\"rows\")\ndf_C.Arribo <- df_C.Arribo %>% tidyr::fill(x2, .direction = \"down\")\nmy_anos <- 2018:2024\nn_my_anos <- length(2018:2024)\nmeses <- c(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n           \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\")\nzz1 <- rep(my_anos, each = (12+1)*2) ; zz1 ; length(zz1)  \nzz2 <- rep(c(\"internac\", \"nacional\"),  times = n_my_anos * ((12+1)*2)/2) ; zz2; length(zz2)\nzz3a <- rep(c(meses, \"total\"), each = 2) \nzz3b <- rep(zz3a,  times = n_my_anos) ; zz3b ; length(zz3b) \nzz4 <- paste(zz2, zz3b, zz1, sep = \"_\")  ; zz4; length(zz4)\nzz5 <- c(\"region\", \"puerto\", zz4) ; length(zz5)\nnames(df_C.Arribo) <- zz5 ; length(zz5)\ndf_C.Arribo <- df_C.Arribo %>% slice(-c(1:4))\ndf_C.Arribo <- df_C.Arribo %>% pivot_longer(3:length(df_C.Arribo))\ndf_C.Arribo <- df_C.Arribo %>% \n  tidyr::separate_wider_delim(col = name, \n                              names = c(\"tipo\", \"mes\", \"year\"), \n                              delim = \"_\")\ndf_C.Arribo <- df_C.Arribo %>% mutate(value = as.numeric(value))\n\ndf_tipoBarco <- rio::import(\"https://www.dimar.mil.co/sites/default/files/noticias/E1-FOR-117-Series-Historicas-trafico-maritimo-2018-2024.xlsx\", \n                              col_names = FALSE,\n                              sheet = \"Serie histórica 2\",\n                              skip = 10)\ndf_tipoBarco <- janitor::clean_names(df_tipoBarco)\ndf_tipoBarco <- df_tipoBarco %>% tidyr::fill(x1, .direction = \"down\")\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Subtotal\") )\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Total\")  )\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Fuente.\"))\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Nota\") )\ndf_tipoBarco <- df_tipoBarco %>% janitor::remove_empty(\"rows\")\ndf_tipoBarco <- df_tipoBarco %>% tidyr::fill(x2, .direction = \"down\")\nmy_anos <- 2018:2024\nn_my_anos <- length(2018:2024)\nmeses <- c(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n           \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\")\nzz1 <- rep(my_anos, each = (12)+1) ; zz1 ; length(zz1) \nzz3a <- rep(c(meses, \"total\")) \nzz3b <- rep(zz3a,  times = n_my_anos) ; zz3b ; length(zz3b) \nzz4 <- paste( zz3b, zz1, sep = \"_\")  ; zz4; length(zz4)\nzz5 <- c(\"Actividad y Motivo de Arribo\", \"tipo\", zz4) ; length(zz5)\nnames(df_tipoBarco) <- zz5 ; length(zz5)\ndf_tipoBarco <- df_tipoBarco %>% janitor::clean_names()\ndf_tipoBarco <- df_tipoBarco %>% slice(-c(1:3,12))\ndf_tipoBarco <- df_tipoBarco %>% pivot_longer(3:length(df_tipoBarco))\ndf_tipoBarco <- df_tipoBarco %>% \n  tidyr::separate_wider_delim(col = name, \n                              names = c(\"mes\", \"year\"), \n                              delim = \"_\", too_many = \"merge\")\ndf_tipoBarco <- df_tipoBarco %>% mutate(value = as.numeric(value))|>mutate(tipo=case_when(actividad_y_motivo_de_arribo%in%c(\"Reparación\",\"Aprovisionamiento\",\"Arribo forzoso\")~\"M.Arribo_Especial\", .default=\"Actividad\"))\n\ndf_TipoCarga <- rio::import(\"https://www.dimar.mil.co/sites/default/files/noticias/E1-FOR-117-Series-Historicas-trafico-maritimo-2018-2024.xlsx\", \n                              col_names = FALSE,\n                              sheet = \"Serie histórica 3\",\n                              skip = 10)\n\ndf_TipoCarga <- janitor::clean_names(df_TipoCarga)\ndf_TipoCarga <- df_TipoCarga %>% tidyr::fill(x1, .direction = \"down\")\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Subtotal\") )\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Total\")  )\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Fuente.\"))\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Nota\") )\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x3, \"Arribo\"))\ndf_TipoCarga <- df_TipoCarga %>% janitor::remove_empty(\"rows\")\ndf_TipoCarga <- df_TipoCarga %>% slice(-1)\npuertos_Caribe <- c(\"Cartagena\", \"Santa Marta\", \"Barranquilla\", \"Urabá y del Darién\", \"Coveñas\",\"Puerto Bolívar\", \"Riohacha\", \"San Andrés\", \"Providencia\")\npuertos_Pacifico <- c( \"Buenaventura\", \"Tumaco\", \"Guapi\", \"Bahía Solano\")\ndf_TipoCarga <- df_TipoCarga %>% filter( !(x2 %in% puertos_Caribe))\ndf_TipoCarga <- df_TipoCarga %>% filter( !(x2 %in% puertos_Pacifico))\npuertos <- c(puertos_Caribe, puertos_Pacifico) %>% \n  gsub(\" \", \"\", .)\nzz_puertos <- rep(puertos, each = 9) \nzz_puertos <- c(\"puerto\", zz_puertos)\ndf_TipoCarga <- df_TipoCarga %>% mutate(x1a = zz_puertos, .after = x1)\ndf_TipoCarga[1, 3] <- \"tipoBarco\"\nmy_anos <- 2018:2024\nn_my_anos <- length(2018:2024)\nmeses <- c(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n           \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\")\nmy_xx <- 1  #- xq no hay dif entre internacional y nacional\nzz1 <- rep(my_anos, each = (12+1)*my_xx) ; zz1 ; length(zz1) \nzz3a <- rep(c(meses, \"total\"), each = 1) \nzz3b <- rep(zz3a,  times = n_my_anos) ; zz3b ; length(zz3b) \nzz4 <- paste(zz3b, zz1, sep = \"_\")  ; zz4; length(zz4)\nzz5 <- c(\"region\", \"puerto\", \"puertBarco\", zz4) ; length(zz5)\nnames(df_TipoCarga) <- zz5 ; length(zz5)\ndf_TipoCarga <- df_TipoCarga %>% slice(-1)\ndf_TipoCarga <- df_TipoCarga %>% pivot_longer(4:length(df_TipoCarga))\ndf_TipoCarga <- df_TipoCarga %>% \n  tidyr::separate_wider_delim(col = name, \n                              names = c(\"mes\", \"year\"), \n                              delim = \"_\")\ndf_TipoCarga <- df_TipoCarga %>% mutate(value = as.numeric(value))\n\ndf_CargaPuerto <- rio::import(\"https://www.supertransporte.gov.co/documentos/2025/noviembre/Puertos_12/Historico_2017-2024.xlsx\", col_names = TRUE, skip = 2)\ndf_CargaPuerto <- df_CargaPuerto %>% slice(-c(13:48))|>rename(\"Ciudad\"=\"FECHA - Trimestre / ZONA_PORTUARIA\")|> tidyr::pivot_longer(cols = -c(Ciudad), names_to =\"Trimestre\", values_to = \"Carga_Portuaria\" )\ndf_CargaPuerto <- df_CargaPuerto|>tidyr::separate_wider_delim(col = Trimestre, \nnames = c(\"Trimestre\",\"year\"), delim = \"-\")|> mutate(Costa = case_when(Ciudad %in% c(\"Buenaventura\", \"Tumaco\") ~ \"Pacífico\", Ciudad %in% c(\"Barrancabermeja\", \"Río Magadalena\") ~ \"Fluvial\", Ciudad %in% c(\"Barranquilla\", \"Cartagena\", \"Ciénaga\",\"G. Morrosquillo\", \"Guajira\", \"San Andrés\", \"Santa Marta\", \"Turbo\") ~ \"Caribe\"))\n\nrm(list = setdiff(ls(), c(\"df_TM_Puerto\",\"df_C.Arribo\",\"df_tipoBarco\",\"df_TipoCarga\", \"df_CargaPuerto\")))\n\n```\n\n:::\n\n---\n\n# 3. Mapa de los Principales Puertos\n\nComo primera etapa del análisis, y para comprender la distribución logística del país, presentamos a continuación la ubicación geoespacial de los 5 principales puertos en Colombia. Hemos generado la cartografía utilizando el paquete sf, lo que nos permite visualizar la concentración de infraestructura en la Costa Caribe frente a la dependencia de un único gran nodo en el Pacífico.\n\n\n```{r}\n#| label: mapa-puertos\n#| message: false\n#| warning: false\n#| code-fold: true\n\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(ggrepel)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n\n# 1. Datos de los 5 Puertos Principales\npuertos_df <- data.frame(\n  nombre = c(\"Cartagena\", \"Santa Marta\", \"Barranquilla\", \"Puerto Bolívar\", \"Buenaventura\"),\n  lat = c(10.3910, 11.2408, 10.9685, 12.2333, 3.8801),\n  lon = c(-75.4794, -74.1990, -74.7813, -71.9667, -77.0312),\n  zona = c(\"Caribe\", \"Caribe\", \"Caribe\", \"Caribe\", \"Pacífico\")\n)\n\n# 2. Convertir a objeto espacial (sf)\npuertos_sf <- st_as_sf(puertos_df, coords = c(\"lon\", \"lat\"), crs = 4326)\n\n# 3. Mapa base y visualización\ncolombia_sf <- ne_countries(scale = \"medium\", returnclass = \"sf\", country = \"Colombia\")\n\nggplot() +\n  geom_sf(data = colombia_sf, fill = \"#F5F5F5\", color = \"gray60\") +\n  geom_sf(data = puertos_sf, aes(color = zona), size = 3) +\n  geom_text_repel(data = puertos_df, aes(x = lon, y = lat, label = nombre),\n                  box.padding = 1.5) +\n  theme_bw() +\n  labs(title = \"Localización de los 5 Puertos Principales\",\n       x = NULL, y = NULL) +\n  theme(legend.position = \"bottom\")\n\n```\n\n\n# 4. Sistema portuario nacional: Un desafío Geográfico\n\nComo hemos explicado antes, Colombia tiene una ventaja competitiva única: es el único país de Sudamérica con salida a dos océanos, el **Pacífico** y el **Atlántico (Mar Caribe)**. Gracias a esto, puede comerciar fácilmente con Asia, Europa y Norteamérica.\n\nSin embargo, hay una gran diferencia entre las dos zonas. Históricamente, los puertos no han crecido por igual: la infraestructura y el volumen de carga se han concentrado mucho en la **Costa Caribe**.\n\n### ¿Por qué existe este desequilibrio?\nLa razón principal son las montañas. Como vemos en el mapa, la **Cordillera de los Andes** cruza el país de sur a norte y se divide en tres ramas.\n\nEstas montañas (en marrón oscuro) funcionan como un muro natural que deja aislada a la **Costa Pacífica** del centro del país donde están las ciudades más importantes (Bogotá, Medellín, Cali).\n\nEn cambio, hacia el norte las montañas bajan y se vuelven llanuras (en verde). Esto hace que sea mucho más fácil llegar a la **Costa Caribe** por carretera o por el río Magdalena. Por eso, el Caribe siempre ha sido la entrada y salida principal de Colombia.\n\n---\n\n```{r}\n#| label: imagen-relieve-andes \n#| code-fold: true \n#| fig-cap: \"Mapa físico de Colombia. Se observa claramente cómo las tres cordilleras andinas bloquean el acceso al Pacífico, mientras que el Caribe es más llano y accesible.\" \n#| fig-align: \"center\" #Para centrar la imagen\n#| out-width: \"70%\"  \n# Usamos knitr para mostrar la imagen directamente desde Wikimedia \nknitr::include_graphics(\"https://upload.wikimedia.org/wikipedia/commons/8/8a/Colombia_relief_location_map_cropped.svg\")\n```\n\n---\n\n\nEn esta fotografía podemos observar cómo los Andes aíslan el océano Pacífico.\n\n![Relieve de Colombia: La barrera natural de los Andes aísla el Pacífico. (Fuente: Wikimedia Commons)](https://upload.wikimedia.org/wikipedia/commons/d/d4/%C3%81rea_Cultural_Andina_-_Divisi%C3%B3n.PNG){fig-align=\"center\"}\n\n\n\nEl sistema se divide en **Zonas Portuarias** con funciones distintas:\n* **Región Caribe:** Es la que mueve más variedad de productos. Aquí están **Cartagena** (contenedores y turismo), **Santa Marta** (carbón) y **Barranquilla** (funciona como puerto de río y marítimo).\n* **Región Pacífico:** Su punto fuerte es **Buenaventura**. Es esencial para traer mercancía de Asia, aunque es difícil llegar allí por tierra.\n* **Región Fluvial:** Se centra en **Barrancabermeja**, clave para transportar petróleo hacia la refinería.\n\n\n## 4.1. Análisis Gráfico y Exploratorio\nAhora, vamos a analizar los datos que hemos preparado para comprobar lo que dijimos antes y entender cómo funciona el tráfico marítimo actualmente.\n\n### 4.1.1. Evolución del volumen de carga (Top Puertos)\n\nPrimero, analizamos la tendencia en el tiempo. Como hay muchas zonas pequeñas que podrían desordenar el gráfico, hemos filtrado los datos para ver sólo los **6 puertos más importantes** según volumen histórico. Queremos ver si el tráfico ha subido después de la pandemia y qué puertos son los líderes.\n\n\n```{r}\n#| warning: false \n#| message: false \n# 1. Preparación de los datos\ndf_grafico1 <- df_CargaPuerto %>%\nmutate(year = as.numeric(year)) %>% # Aseguramos que el año sea numérico para el eje X \n# Calculamos el total histórico por ciudad para saber cuáles son los \"grandes\" group_by(Ciudad) %>%\nmutate(total_historico = sum(Carga_Portuaria, na.rm = TRUE)) %>%\nungroup()\n# 2. Filtro: Nos quedamos solo con los nombres del Top 6\ntop_puertos <- unique(df_grafico1 %>% arrange(desc(total_historico)) %>% pull(Ciudad))[1:6]\n# Filtramos la base de datos original para mantener solo esas ciudades top\ndf_grafico1 <- df_grafico1 %>% filter(Ciudad %in% top_puertos)\n# 3. Sumamos la carga por año y ciudad \ndf_grafico1 <- df_grafico1 %>% \ngroup_by(year, Ciudad) %>%\nsummarise(Carga = sum(Carga_Portuaria, na.rm = TRUE), .groups = 'drop')\n\n```\n\n---\nVemos la evolución temporal con un gráfico de líneas, que es donde mejor se va a ver la serie de tiempo:\n---\n\n```{r}\n#| warning: false\n#| code-fold: true\n#- Gráfico de líneas\np <- ggplot(data = df_grafico1, \nmapping = aes(x = year, y = Carga, color = Ciudad)) + \ngeom_line(linewidth = 1) + # Línea un poco más gruesa para visibilidad\ngeom_point(size = 2) + # Puntos para marcar cada año\nscale_y_continuous(labels = scales::label_number(scale = 1e-6, suffix = \" M\")) + # Formato Millones\ntheme_minimal() # Tema limpio\n\np + labs(title = \"Evolución de carga (Top 6 Puertos)\",\nsubtitle = \"Toneladas que se mueven anualmente\", \ny = \"Millones de Toneladas\", \ncolor = \"Zona Portuaria\") \n```\n\n\n   \n### 4.1.2. Comparativa: Caribe vs Pacífico\n\nPara comprobar si es verdad que el Caribe domina por la barrera de los Andes, comparamos directamente el volumen de carga del último año completo (2023).\n\nPara eso agrupamos manualmente las ciudades en sus regiones geográficas:\n\n```{r}\n#| warning: false\n#| code-fold: true \n\n# 1. Clasificación Geográfica \ndf_grafico2 <- df_CargaPuerto %>%\nmutate(year = as.numeric(year)) %>%\nfilter(year == 2023) %>% \n# Creamos la columna 'Region' \nmutate(Region = case_when\n( Ciudad %in% c(\"Buenaventura\", \"Tumaco\") ~ \"Pacífico\",\nCiudad %in% c(\"Barrancabermeja\", \"Río Magdalena\") ~ \"Fluvial\",\nTRUE ~ \"Caribe\"   )) %>% # El resto (Cartagena, etc.) asumimos que son Caribe \n\n# 2. Sumamos el total por región\ngroup_by (Region) %>%\nsummarise(Total = sum(Carga_Portuaria, na.rm = TRUE)) %>%\n\n# Calculamos el porcentaje para entender la proporción\n  mutate(Porcentaje = Total / sum(Total))\n  \n\n```\n\n---\nHacemos el gráfico de barras, que confirma la teoria:\n---\n\n```{r}\n#| warning: false\n#| code-fold: true\n#Gráfico de barras\np <- ggplot(df_grafico2, aes(x = reorder(Region, -Total), y = Total, fill = Region)) + geom_col() + \n  \n# Añadimos etiquetas de texto con el porcentaje encima de las barras\n  geom_text(aes(label = scales::percent(Porcentaje, accuracy = 1)),\nvjust = -0.5, fontface = \"bold\") + \nscale_y_continuous(labels = scales::label_number(scale = 1e-6, suffix = \" M\")) + scale_fill_manual(values = c(\"Caribe\"=\"blue\", \"Pacífico\"=\"orange\", \"Fluvial\"=\"green\")) + theme_light() \n\np + labs(title = \"Distribución de Carga por Región (2023)\",\nsubtitle = \"Predominio claro de la costa Caribeña\", \nx = \"Región\", \ny = \"Total Toneladas\") + \ntheme(legend.position = \"none\")\n```\n\n---\n\n\nSe ve claramente que el Caribe mueve la mayor parte de la carga del país. Esto confirma que la barrera de los Andes frena el crecimiento de la región Pacífico.\n\n### 4.1.3. Naturaleza del Tráfico: Nacional o Internacional?\n\nEs imprescindible distinguir el propósito de los buques que arriban. ¿Son barcos grandes que traen mercancía de otros países (Comercio Exterior) o barcos más pequeños que se mueven solo entre puertos de Colombia (Cabotaje)?\n\n```{r}\n#| warning: false\n#| code-fold: true\n# Agrupar datos\n# Agrupación simple por año y tipo de tráfico\ndf_grafico3 <- df_C.Arribo %>%\nmutate(year = as.numeric(year)) %>%\ngroup_by(year, tipo) %>%\nsummarise(Total = sum(value, na.rm = TRUE), .groups = 'drop')\n```\n\n\n\nY el gráfico:\n\n```{r}\n#| warning: false\n#| code-fold: true\n#- Gráfico de barras \np <- ggplot(df_grafico3, aes(x = factor(year), y = Total, fill = tipo)) + \n# 'dodge' coloca las barras una al lado de la otra para comparar mejor\ngeom_col(position = \"dodge\") + \nscale_fill_manual(values = c(\"blue\", \"red\"), labels = c(\"Internacional\", \"Nacional\")) + \ntheme_minimal() \n\np + labs(title = \"Arribos de Buques: Nacional vs Internacional\", \nx = \"Año\", \ny = \"Número de Arribos\", \nfill = \"Tipo de Tráfico\")\n```\n\n\nCon esto terminamos el análisis de los puertos colombianos.\n\n\n---\n\n# 5. Tipos de barcos que llegan\n\nColombia, como país bioceánico, recibe todo tipo de barcos, siendo la mayoría de ellos de origen nacional, como podemos observa en el gráfico. Entre 2018 y 2023 se registró un aumento sostenido en el número de embarcaciones que arribaron a los puertos colombianos. La disminución observada en 2024 no corresponde a una caída real del tráfico marítimo, sino que se debe a la falta de información del último trimestre del año en la base de datos utilizada.\n\nDentro de esta tendencia creciente, destaca el incremento registrado a partir de 2021, explicado por la rápida recuperación económica posterior a la pandemia y por la necesidad de fortalecer una flota logística local, proceso que estuvo fuertemente influenciado por los cuellos de botella en las cadenas de suministro. No obstante, este cambio ya venía gestándose desde años anteriores, ya que en 2018 la presencia de barcos nacionales e internacionales era prácticamente equivalente; sin embargo, a partir de 2019 comenzó a evidenciarse una modificación progresiva en esta proporción, con un aumento constante de las embarcaciones nacionales, tendencia que se intensificó desde 2020 y consolidó la predominancia de la flota nacional en los años posteriores.\n\n\n```{r}\n#| code-fold: true\nR.NacInt <- df_C.Arribo|> group_by(year)|>filter(mes==\"total\")|> ggplot(aes(x=year, y=value, fill = tipo ))+geom_col()+theme_bw()+scale_y_continuous(labels = label_comma(accuracy = 1))+\n  theme(panel.background = element_rect(fill = \"lightyellow\", color = NA))+labs(title=\"Evolución de la procedencia de barcos que llegan a \\npuertos colombianos (2018-2024)\", x=\"Años\",y=\"Arribos\", fill=\"Tipo\" )+ scale_fill_discrete(name = \"Tipo de Navegación\",  labels = c( \"internac\" = \"Tráfico Internacional\",\"nacional\"= \"Tráfico Nacional\"))\nR.NacInt\n\n```\n\nLa mayoría de estos barcos arriban principalmente a los puertos del Atlántico. Como se observa en la siguiente gráfica, correspondiente a los barcos arribados en 2024, los puertos del Atlántico reciben un mayor número de embarcaciones tanto nacionales como internacionales, lo que corrobora la afirmación de que la costa caribeña presenta una mayor actividad portuaria que la costa pacífica.\n\n```{r}\n#| warning: false\n#| code-fold: true\nR.NacInt <- df_C.Arribo|> filter(year==\"2024\",mes==\"total\")|> ggplot(aes(x=region, y=value, fill = tipo ))+geom_col()+theme_bw()+ theme(panel.background = element_rect(fill = \"lightyellow\", color = NA))+labs(title=\"Procedencia de barcos que llegan a puertos colombianos en el 2024\", x=\"Años\",y=\"Arribos\", fill=\"Tipo\" )+scale_fill_discrete(name = \"Tipo de Navegación\",  labels = c( \"internac\" = \"Tráfico Internacional\",\"nacional\"= \"Tráfico Nacional\"))\nR.NacInt\n```\n\nEn particular, el tráfico marítimo de la costa caribeña se concentra en los puertos de Cartagena, Santa Marta y Coveñas, los cuales ocupan el primer, segundo y tercer lugar, respectivamente, entre los puertos con mayor recepción de embarcaciones. En contraste, en la costa pacífica el puerto de Buenaventura presenta el mayor flujo de barcos y se ubica en el cuarto lugar a nivel nacional en tráfico portuario.\n\n```{r}\n#| warning: false\n#| code-fold: true\nlibrary(patchwork)\nNacInt <- df_C.Arribo|> filter(year==\"2024\")|> ggplot(aes(x=puerto, y=value, fill = tipo ))+geom_col()+theme_bw()+theme(axis.text.x = element_text( angle = 60, hjust = 1)) +theme(panel.background = element_rect(fill = \"lightyellow\", color = NA))+ labs(title=\"Procedencia de barcos que llegan a cada puertos colombianos en el 2024\", x=\"Años\",y=\"Arribos\", fill=\"Tipo\" )+scale_fill_discrete(name = \"Tipo de Navegación\",  labels = c( \"internac\" = \"Tráfico Internacional\",\"nacional\"= \"Tráfico Nacional\"))\ntablaarribo <-df_C.Arribo|>filter(year==\"2024\",tipo==\"nacional\", mes==\"enero\")|>select(region,puerto)\nDT::datatable(tablaarribo)\nNacInt\n\n```\n\nDe los barcos que llegan, la mayoría son buques de carga, seguidos, a gran distancia, por embarcaciones recreativas. La pandemia provocó una caída significativa en la llegada de buques recreacionales, pero a partir de 2022 se observa una recuperación.\nEn 2024 se aprecia una disminución general en todos los tipos de barcos, lo cual se debe a que la base de datos consultada no incluía información del último trimestre del año, como mencionamos anteriormente.\n\n```{r}\n#| warning: false\n#| code-fold: true\nR.TipoBarco <- df_tipoBarco|>group_by(year)|>filter(tipo==\"Actividad\")|> ggplot(aes(x=year,y=value,fill = actividad_y_motivo_de_arribo))+geom_col()+scale_fill_brewer(palette = \"Set1\")+\n  labs(title = \"Tipo de barcos que arriban a puertos colombianos (2018-2024)\", x=\"Años\",y=\"Arribos\", fill = \"Tipo de barco\")+theme_bw()+theme(panel.background = element_rect(fill = \"lightblue3\", colour = \"white\"))\nR.TipoBarco\n```\n\nAlgunos barcos llegan a Colombia por motivos especiales, es decir, por razones distintas al comercio regular; principalmente por aprovisionamiento, como se puede observar en la gráfica.\n\n```{r}\n#| warning: false\n#| code-fold: true\nR.ActiviadBarco <- df_tipoBarco|>group_by(year)|>filter(tipo==\"M.Arribo_Especial\")|> ggplot(aes(x=year,y=value,fill = actividad_y_motivo_de_arribo))+geom_col()+theme_bw()+theme(panel.background = element_rect(fill = \"lightyellow1\", colour = \"white\"))+labs(title=\"Motivos de arribo especiales a puertos colombianos (2018-2024)\", x=\"Años\",y=\"Arribos\",fill=\"Motivos de arribo especiales\")\nR.ActiviadBarco\n```\n\n\n---\n\n## 5.1 Tipo de barcos de carga que llegan a puertos colombianos\n\nLos barcos de carga que arriban a los puertos colombianos están compuestos principalmente por portacontenedores, seguidos por graneleros y tanqueros. Esto se debe a que los portacontenedores son fundamentales para el transporte de mercancía general y bienes manufacturados, como la exportación de café, una de las principales exportaciones del país, así como la importación de diversos bienes. En el caso de los graneleros, su presencia responde a la exportación de minerales, como el carbón y el hierro, y a la importación de alimentos, como cereales, además de otros insumos, entre ellos los fertilizantes. Por su parte, la llegada de tanqueros se explica porque Colombia es un importante productor de petróleo.\n\n```{r}\n#| warning: false\n#| code-fold: true\nCategoria <- df_TipoCarga|>group_by(year)|>filter(mes==\"total\")|>ggplot(aes(x=year,y=value, fill = puertBarco))+geom_col()+labs(title = \"Tipos de barcos de carga que llegan a Colombia (2018-2024)\",x=\"Años\",y=\"Arribos\",fill=\"Tipo de cargero\")+scale_fill_brewer(palette = \"Set3\")+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))\nCategoria \n```\n\n### 5.1.1. Tipo de barcos de carga que llegan a puertos colombianos por costa\n\nEn la siguiente gráfica se puede observar que, en 2023, la costa atlántica recibió una mayor cantidad de barcos de carga de todos los tipos, lo que respalda el argumento de que la costa pacífica tiene un menor movimiento portuario en comparación con la costa caribeña.\n\n```{r}\n#| warning: false\n#| code-fold: true\nCategoria <- df_TipoCarga|>group_by(region)|>filter(mes==\"total\", year==\"2023\")|>ggplot(aes(x=region,y=value, fill = puertBarco))+geom_col(position = \"dodge\")+labs(title = \"Tipos de barcos de carga que llegan a Colombia (2023)\",x=\"Costa\",y=\"Arribos\",fill=\"Tipo de cargero\")+scale_fill_brewer(palette = \"Set3\")+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))+annotate(\"rect\",xmin = 1.5, xmax = 2.5,ymin = -Inf, ymax = Inf,alpha = 0.2, fill = \"red\")+ annotate(\"rect\",xmin = 0.5, xmax = 1.5,ymin = -Inf, ymax = Inf,alpha = 0.2, fill = \"green2\")\n           \nCategoria\n```\n---\n\n# 6. Evolución de la carga portuario\n\n::::: columns\n::: {.column width=\"35%\"}\n```{r}\n#| code-fold: true\n#| warning: false\n#| fig-width: 4 \n#| fig-height: 3 \nTraf.Marit <- df_CargaPuerto|>group_by(year)|>mutate(Traf_anual=sum(Carga_Portuaria))|> filter(Trimestre==\"Trim. 4 \", Ciudad%in%c(\"Barrancabermeja\"))|>mutate(year = as.numeric(as.character(year)))|> select(year,Traf_anual)|> ggplot(aes(x=year,y=Traf_anual,group = 1))+geom_line(color=\"blue3\", size=1.2)+geom_point(size=2.5, color= \"firebrick3\")+theme_bw() +scale_y_continuous(labels = label_comma(accuracy = 1))+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))+labs(title=\"Carga portuaria en Colombia 17-24\",x=\"Años\",y=\"Movimiento de carga\")\nTraf.Marit <- Traf.Marit+transition_reveal(year)\nTraf.Marit\n```\n:::\n\n::: {.column width=\"65%\"}\nEl movimiento de carga portuaria en Colombia experimentó una caída entre 2018 y 2020, con una disminución particularmente pronunciada en 2019 debido a la pandemia. A partir de 2020, la actividad portuaria comenzó a recuperarse; sin embargo, en 2022 volvió a disminuir como consecuencia de la inflación mundial y la guerra en Ucrania, que encareció el transporte marítimo. A partir de finales de 2022, se registró una rápida recuperación del movimiento portuario, impulsada por la recuperación económica global y las sequías en el Canal de Panamá, que obligaron a varios barcos a dirigirse a puertos colombianos.\n:::\nSe estima que el tráfico de carga en Colombia podría disminuir en 2025 debido al Fenómeno del Niño, que aumenta los riesgos de navegación en ciertos meses del año y afecta la seguridad portuaria. Además, este fenómeno meteorológico podría reducir la cosecha de café, una de las principales exportaciones del país junto con el petróleo. La exportacion de crudo también podría verse afectada, debido al incremento en la producción de petróleo en Estados Unidos, principal comprador del crudo colombiano, impulsado por las políticas extractivas de la administración de Trump y a la disminución de precios de la OPEP+, lo que hace que el petróleo colombiano sea menos competitivo en el mercado internacional.\n\n```{r}\n#| warning: false\n#| code-fold: true\n\nTraf.Marit <- df_CargaPuerto|>group_by(year)|>mutate(Traf_anual=sum(Carga_Portuaria))|> filter(Trimestre==\"Trim. 4 \", Ciudad%in%c(\"Barrancabermeja\"))|>mutate(year = as.numeric(as.character(year)))|> select(year,Traf_anual)|> ggplot(aes(x=year,y=Traf_anual,group = 1))+geom_line(color=\"blue3\", size=1.2)+geom_point(size=2.5, color= \"firebrick3\")+theme_bw() +scale_y_continuous(labels = label_comma(accuracy = 1))+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))+labs(title=\"Evolución de la carga portuario en puertos colombianos (2017-2024)\",x=\"Años\",y=\"Movimiento de carga\")\n\nTraf.Marit\n```\n\n## 6.1. Contribucion por costa en la carga portuaria\n\nEl movimiento de carga portuaria en Colombia se concentra principalmente en la costa atlántica, seguidas por la costa pacífica y los puertos fluviales. Esto se explica porque la población y la actividad económica del país se concentran en la región central y en la costa caribe, y estas zonas cuentan con mejores conexiones hacia el Atlántico. En contraste, la zona pacífica ha permanecido históricamente aislada debido a la presencia de la cordillera de los Andes.\n\nPor su parte, los puertos fluviales mantienen su nivel de movimiento principalmente por la ciudad de Barrancabermeja, que alberga la refinería de petróleo más grande de Colombia y se encuentra cerca del yacimiento de petróleo del Magdalena Medio. Además, su ubicación en el río Magdalena, que desemboca en el Caribe, facilita el transporte de carga desde esta región, aunque su navegabilidad no es constante durante todo el año, lo que limita parcialmente el flujo portuario.\n\n```{r}\n#| warning: false\n#| code-fold: true\nTraf.Marit <- df_CargaPuerto|>group_by(year, Costa)|>mutate(Traf_anual=sum(Carga_Portuaria))|> filter(Trimestre==\"Trim. 4 \")|> ggplot(aes(x=year,y=Traf_anual, fill = Costa))+geom_col()+scale_y_continuous(labels = label_comma(accuracy = 1))+theme_bw()+ labs(title=\"Contribucion por costa en la evolución de la carga portuaria \\nen puertos colombianos (2017-2024)\",x=\"Años\",y=\"Movimiento de carga\")+theme(panel.background = element_rect(fill = \"lightyellow1\", colour = \"white\"))\nTraf.Marit\n```\n---\n\n# 7. Exportaciones e Importaciones\n\nPara este apartado nos centraremos en el dataframe `df_TM_Puerto`, que contiene los datos de tonelaje desglosados por tipo de movimiento; a partir de él generamos el gráfico en el que se puede ver la diferencia entre importaciones y exportaciones marítimas del país .\n\n**Evolución de la Balanza Comercial (Interactiva)**\n\n```{r}\n#| label: grafico-balance-anual-interactivo\n#| code-fold: true\n#| warning: false\n#| message: false\n#| fig-cap: \"Evolución Interactiva de las Toneladas Exportadas vs. Importadas\"\n#| fig-width: 4 \n#| fig-height: 3\nlibrary(plotly) \n\n# 1. CREACIÓN Y LIMPIEZA DE df_comercio (a partir df_TM_Puerto)\ndf_comercio <- df_TM_Puerto %>% \n  select(zona_portuaria, anno_vigencia, exportacion, importacion) %>%\n  rename(Year = anno_vigencia, Zona = zona_portuaria) %>%\n  \n  # Convertir las columnas 'exportacion' e 'importacion' en filas\n  pivot_longer(\n    cols = c(exportacion, importacion),\n    names_to = \"Movimiento\",\n    values_to = \"Total_Ton\"\n  ) %>%\n  # eliminamos NAs\n  filter(!is.na(Total_Ton), Total_Ton > 0)\n\n# 2. CREACIÓN DEL DATAFRAME NECESARIO (df_evolucion_comercio)\ndf_evolucion_comercio <- df_comercio %>%\n  group_by(Year, Movimiento) %>%\n  summarise(Total_Ton = sum(Total_Ton, na.rm = TRUE)) %>%\n  ungroup()\n\n# 3. Crear el gráfico base con ggplot\np_base_balanza <- ggplot(df_evolucion_comercio, aes(x = Year, y = Total_Ton, color = Movimiento,\n                                                text = paste(\"Año:\", Year, \"<br>\",\n                                                             \"Movimiento:\", Movimiento, \"<br>\",\n                                                             \"Toneladas:\", scales::label_comma()(Total_Ton)))) +\n  geom_line(linewidth = 1.2) +\n  geom_point(size = 3) +\n  scale_y_continuous(labels = scales::label_comma(scale = 1e-6, suffix = \" M\")) +\n  scale_color_manual(values = c(\"exportacion\" = \"blue\", \"importacion\" = \"red\")) +\n  theme_minimal() +\n  labs(title = \"Evolución Exportaciones vs Importaciones\",\n       subtitle = \"Volumen en Millones de Toneladas por Año\",\n       y = \"Millones de Toneladas\",\n       x = \"Año\",\n       color = \"Flujo\") +\n  theme(legend.position = \"bottom\")\n\n# 4. Convertir a Plotly para hacerlo interactivo\nggplotly(p_base_balanza, tooltip = \"text\") %>%\n  layout(hovermode = \"x unified\")\n```\n\n\n* **Especialización Portuaria Interactiva: ¿Quién Exporta y Quién Importa?**\n\nIdentificamos los puertos que lideran cada actividad, observando dónde se concentra \nla mayor actividad exportadora e importadora del país.\n\n\n```{r}\n#| label: grafico-top-puertos-interactivo\n#| code-fold: true\n#| warning: false\n#| message: false\n#| fig-cap: \"Top 5 Zonas Portuarias Interactivas: Perfil Exportador vs. Importador\"\n#| fig-width: 4 \n#| fig-height: 3\n\n# 1. CREACIÓN Y LIMPIEZA DE df_comercio \ndf_comercio <- df_TM_Puerto %>%\n  select(zona_portuaria, anno_vigencia, exportacion, importacion) %>%\n  rename(Year = anno_vigencia, Zona = zona_portuaria) %>%\n  pivot_longer(\n    cols = c(exportacion, importacion),\n    names_to = \"Movimiento\",\n    values_to = \"Total_Ton\"\n  ) %>%\n  mutate(Total_Ton = as.numeric(Total_Ton)) %>%\n  filter(!is.na(Total_Ton), Total_Ton > 0)\n\n# 2. CREACIÓN DEL DATAFRAME NECESARIO (df_puertos_ranking)\ndf_puertos_ranking <- df_comercio %>%\n  group_by(Zona, Movimiento) %>%\n  summarise(Total_Ton = sum(Total_Ton, na.rm = TRUE)) %>%\n  ungroup()\n\n# 3. Sacar el Top 5 general (sumando todo)\ntop_5_zonas <- df_puertos_ranking %>%\n  group_by(Zona) %>%\n  summarise(Grand_Total = sum(Total_Ton)) %>%\n  arrange(desc(Grand_Total)) %>%\n  head(5) %>%\n  pull(Zona)\n\n# 4. Crear el gráfico con ggplot\np_base_puertos <- df_puertos_ranking %>%\n  filter(Zona %in% top_5_zonas) %>%\n  ggplot(aes(x = Total_Ton, \n             y = reorder(Zona, Total_Ton), \n             fill = Movimiento,\n             text = paste(\"Puerto:\", Zona, \"<br>\",\n                          \"Flujo:\", Movimiento, \"<br>\",\n                          \"Volumen:\", scales::label_comma()(Total_Ton)))) +\n  geom_col(position = \"dodge\") + \n  scale_x_continuous(labels = scales::label_comma(scale = 1e-6, suffix = \" M\")) +\n  scale_fill_manual(values = c(\"exportacion\" = \"blue\", \"importacion\" = \"red\")) +\n  theme_minimal() +\n  labs(title = \"Top 5 Zonas Portuarias: Perfil Exportador vs Importador\",\n       subtitle = \"Acumulado histórico (Toneladas)\",\n       x = \"Millones de Toneladas\",\n       y = \"Zona Portuaria\",\n       fill = \"Flujo\")\n\n# 5. Convertir a Plotly para hacerlo interactivo\nggplotly(p_base_puertos, tooltip = \"text\") %>%\n  layout(yaxis = list(title = \"Zona Portuaria\"))\n\n```\n\n**Conclusión Económica**\n\n**Balanza Comercial, Flujos y Desafíos Estructurales**\n\nLos datos analizados permiten extraer conclusiones fundamentales sobre la economía portuaria y las dinámicas comerciales de Colombia: como se observa en el primer gráfico, la línea de Exportaciones (Azul) se mantiene consistentemente por encima de la de Importaciones (Roja) en términos de volumen físico (toneladas).\n\n* **Interpretación:** Colombia es un país que, físicamente, envía al exterior mucha más materia de la que recibe. Esto es típico de economías basadas en commodities (carbón y petróleo), que son mercancías muy pesadas y voluminosas.\n\n* **La \"Ilusión\" del Valor:** Es importante notar que, aunque Colombia exporta más toneladas, esto no significa que gane más dinero de lo que lo que gasta. Colombia exporta toneladas de carbón (barato por kilo) e importa contenedores con tecnología y manufacturas (caras por kilo).\n\n—\n\n**Especialización Portuaria**\n\nEl gráfico de barras muestra una clara división del trabajo entre las zonas portuarias, reflejando su especialización económica:\n\n* **Puertos Exportadores de Materias Primas:** Puertos como Ciénaga o Guajira (Puerto Bolívar) son casi exclusivamente exportadores (salida de carbón). Su función está ligada directamente a la demanda energética global.\n\n* **Puertos Mixtos/Importadores:** Puertos como Buenaventura y Cartagena tienen un perfil más mixto o importador, siendo vitales para el abastecimiento interno del país (seguridad alimentaria y bienes de consumo).\n\n---\n\n* **Resumen económico del apartado**\n\nLa salud del tráfico marítimo colombiano depende fuertemente de la demanda internacional de materias primas energéticas, lo cual asegura el volumen de exportación. Al mismo tiempo, el consumo interno sigue dependiendo de la eficiencia de los puertos del Caribe y Pacífico para traer productos manufacturados del exterior, lo cual se traduce en una dependencia estructural de las importaciones de alto valor.\n\n# 8. Conclusión\n\nTras este análisis del tráfico marítimo colombiano confirmamos una estructura logística asimétrica, marcada por la dualidad entre la Costa Caribe y el Pacífico. El estudio geográfico validó la predominancia de la Costa Caribe como el principal centro portuario, mientras que el Pacífico depende críticamente de Buenaventura. Operacionalmente, se demostró que la mayoría de los arribos de buques son de tráfico nacional, y la composición de la flota se concentra en portacontenedores, graneleros y tanqueros, reflejando la especialización de la economía en commodities pesados y el manejo de contenedores.\nEn términos de actividad económica, el sistema mostró que las exportaciones superan a las importaciones en volumen físico (toneladas), una característica esperable de una economía productora de materias primas. Sin embargo, esta actividad está sujeta a la volatilidad del mercado global, como se observó en la evolución temporal del tráfico, sensible a eventos como la pandemia y las crisis de precios. En definitiva, la resiliencia del sistema depende de la eficiencia de los puertos del Caribe para gestionar grandes volúmenes y la mitigación del riesgo en la conexión terrestre de la Costa Pacífica.\n\n# 9. Biografia \n\n- Ministerio de Transporte de Colombia. (s.f.). Tráfico Portuario Marítimo en Colombia. Datos Abiertos Colombia. Recuperado de https://www.datos.gov.co/Transporte/Trafico-Portuario-Mar-timo-En-Colombia/5r3g-zv5z/about_data\n\n- Dirección General Marítima de Colombia (Dimar). (s.f.). Tráfico marítimo. Portal Marítimo Colombiano. Recuperado de https://www.dimar.mil.co/trafico-maritimo\n\n- Superintendencia de Transporte de Colombia. (s.f.). Estadísticas de Tráfico Portuario en Colombia. Supertransporte. Recuperado de https://www.supertransporte.gov.co/index.php/superintendencia-delegada-de-puertos/estadisticas-trafico-portuario-en-colombia/\n\n- Milenioscuro. (2022). Mapa de Colombia (topografía) [Mapa]. Wikimedia Commons. https://commons.wikimedia.org/w/index.php?curid=115522497\n\n- Eniol. (2013). Área Cultural Andina – División [Mapa]. Wikimedia Commons. https://commons.wikimedia.org/w/index.php?curid=25366386\n\n\n\n\n\n\n","srcMarkdownNoYaml":"\n\n\n# 1. Introducción\n\nEl comercio marítimo es uno de los pilares más grandes de la economía colombiana y su sistema portuario es vital para su conexión global. En este trabajo realizamos un análisis profundo sobre el tráfico que atraviesa los principales puertos del país.\nComenzamos examinando la geografía y distribución de los puertos clave, una visualización esencial para entender la marcada asimetría entre la Costa Caribe y el Pacífico. Posteriormente, el estudio se concentra en las operaciones, detallando la tipología de las embarcaciones que llegan y la composición del cargamento que se moviliza. Finalmente, interpretamos el desempeño económico del sistema a través del análisis de las importaciones y exportaciones, y se revisa su evolución temporal para obtener una perspectiva completa de la competitividad logística de Colombia.\n\n# 2. Datos\n\nPara realizar el trabajo utiilizamos los siguientes datos:\n\n::: {.panel-tabset}\n\n## Fuente de los datos\nLos datos utilizados provienen de distintas fuentes, entre ellas la base pública “[Datos Abiertos](https://www.datos.gov.co/Transporte/Trafico-Portuario-Mar-timo-En-Colombia/5r3g-zv5z/about_data){target=\"_blank\"}” de Colombia, la Superintendencia de Transporte ([SuperTransporte](https://www.supertransporte.gov.co/index.php/superintendencia-delegada-de-puertos/estadisticas-trafico-portuario-en-colombia/){target=\"_blank\"}) y la Dirección General Marítima ([DIMAR](https://www.dimar.mil.co/trafico-maritimo){target=\"_blank\"}).\n\n\n\n\n\n## Datos usados\n- df_TM_Puerto → Tráfico portuario por ciudad, incluye importaciones y exportaciones y        \n                               diferencia entre público y privado\n- df_C.Arribo → La cantidad de arribos por puerto, diferencia entre nacional e internacional\n- df_tipoBarco → Los tipos de barcos que llega a cada puerto\n- df_TipoCarga → El tipo de cargamento que llega a cada puerto \n- df_CargaPuerto → La cantidad de movimiento de carga de cada puerto\n\n## Paquetes utilizados\n```{r}\n#| results: hide \n#| warning: false \n#| message: false\n\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(rio) \nlibrary(janitor)\nlibrary(ggthemes)\nlibrary(scales)\nlibrary(patchwork)\nlibrary(plotly)\nlibrary(sf)\nlibrary(ggrepel)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(gganimate)\nlibrary(dplyr)\nlibrary(gifski)\n```\n\n\n## Codigo de los datos\n\n```{r}\n#| results: hide \n#| warning: false \n#| message: false\n\ndf_TM_Puerto <- rio::import(\"https://www.datos.gov.co/resource/5r3g-zv5z.csv\")\ndf_TM_Puerto <- df_TM_Puerto|>group_by(zona_portuaria)|>mutate(Costa=case_when(zona_portuaria%in%c(\"BARRANCABERMEJA\",\"Z.P. RIO MAGDALENA\")~\"Fluvial\",zona_portuaria%in%c(\"BUENAVENTURA\",\"TUMACO\")~\"Pacifico\", .default=\"Caribe\"))\n\ndf_C.Arribo <- rio::import(\"https://www.dimar.mil.co/sites/default/files/noticias/E1-FOR-117-Series-Historicas-trafico-maritimo-2018-2024.xlsx\", \n                              col_names = FALSE,\n                              sheet = \"Serie histórica 1\",\n                              skip = 10)\ndf_C.Arribo <- janitor::clean_names(df_C.Arribo)\ndf_C.Arribo <- df_C.Arribo %>% tidyr::fill(x1, .direction = \"down\")\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Subtotal\") )\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Total\")  )\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Fuente.\"))\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x1, \"^Nota\") )\ndf_C.Arribo <- df_C.Arribo %>% filter(!str_detect(x3, \"Arribo\")) \ndf_C.Arribo <- df_C.Arribo %>% janitor::remove_empty(\"rows\")\ndf_C.Arribo <- df_C.Arribo %>% tidyr::fill(x2, .direction = \"down\")\nmy_anos <- 2018:2024\nn_my_anos <- length(2018:2024)\nmeses <- c(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n           \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\")\nzz1 <- rep(my_anos, each = (12+1)*2) ; zz1 ; length(zz1)  \nzz2 <- rep(c(\"internac\", \"nacional\"),  times = n_my_anos * ((12+1)*2)/2) ; zz2; length(zz2)\nzz3a <- rep(c(meses, \"total\"), each = 2) \nzz3b <- rep(zz3a,  times = n_my_anos) ; zz3b ; length(zz3b) \nzz4 <- paste(zz2, zz3b, zz1, sep = \"_\")  ; zz4; length(zz4)\nzz5 <- c(\"region\", \"puerto\", zz4) ; length(zz5)\nnames(df_C.Arribo) <- zz5 ; length(zz5)\ndf_C.Arribo <- df_C.Arribo %>% slice(-c(1:4))\ndf_C.Arribo <- df_C.Arribo %>% pivot_longer(3:length(df_C.Arribo))\ndf_C.Arribo <- df_C.Arribo %>% \n  tidyr::separate_wider_delim(col = name, \n                              names = c(\"tipo\", \"mes\", \"year\"), \n                              delim = \"_\")\ndf_C.Arribo <- df_C.Arribo %>% mutate(value = as.numeric(value))\n\ndf_tipoBarco <- rio::import(\"https://www.dimar.mil.co/sites/default/files/noticias/E1-FOR-117-Series-Historicas-trafico-maritimo-2018-2024.xlsx\", \n                              col_names = FALSE,\n                              sheet = \"Serie histórica 2\",\n                              skip = 10)\ndf_tipoBarco <- janitor::clean_names(df_tipoBarco)\ndf_tipoBarco <- df_tipoBarco %>% tidyr::fill(x1, .direction = \"down\")\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Subtotal\") )\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Total\")  )\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Fuente.\"))\ndf_tipoBarco <- df_tipoBarco %>% filter(!str_detect(x1, \"^Nota\") )\ndf_tipoBarco <- df_tipoBarco %>% janitor::remove_empty(\"rows\")\ndf_tipoBarco <- df_tipoBarco %>% tidyr::fill(x2, .direction = \"down\")\nmy_anos <- 2018:2024\nn_my_anos <- length(2018:2024)\nmeses <- c(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n           \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\")\nzz1 <- rep(my_anos, each = (12)+1) ; zz1 ; length(zz1) \nzz3a <- rep(c(meses, \"total\")) \nzz3b <- rep(zz3a,  times = n_my_anos) ; zz3b ; length(zz3b) \nzz4 <- paste( zz3b, zz1, sep = \"_\")  ; zz4; length(zz4)\nzz5 <- c(\"Actividad y Motivo de Arribo\", \"tipo\", zz4) ; length(zz5)\nnames(df_tipoBarco) <- zz5 ; length(zz5)\ndf_tipoBarco <- df_tipoBarco %>% janitor::clean_names()\ndf_tipoBarco <- df_tipoBarco %>% slice(-c(1:3,12))\ndf_tipoBarco <- df_tipoBarco %>% pivot_longer(3:length(df_tipoBarco))\ndf_tipoBarco <- df_tipoBarco %>% \n  tidyr::separate_wider_delim(col = name, \n                              names = c(\"mes\", \"year\"), \n                              delim = \"_\", too_many = \"merge\")\ndf_tipoBarco <- df_tipoBarco %>% mutate(value = as.numeric(value))|>mutate(tipo=case_when(actividad_y_motivo_de_arribo%in%c(\"Reparación\",\"Aprovisionamiento\",\"Arribo forzoso\")~\"M.Arribo_Especial\", .default=\"Actividad\"))\n\ndf_TipoCarga <- rio::import(\"https://www.dimar.mil.co/sites/default/files/noticias/E1-FOR-117-Series-Historicas-trafico-maritimo-2018-2024.xlsx\", \n                              col_names = FALSE,\n                              sheet = \"Serie histórica 3\",\n                              skip = 10)\n\ndf_TipoCarga <- janitor::clean_names(df_TipoCarga)\ndf_TipoCarga <- df_TipoCarga %>% tidyr::fill(x1, .direction = \"down\")\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Subtotal\") )\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Total\")  )\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Fuente.\"))\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x1, \"^Nota\") )\ndf_TipoCarga <- df_TipoCarga %>% filter(!str_detect(x3, \"Arribo\"))\ndf_TipoCarga <- df_TipoCarga %>% janitor::remove_empty(\"rows\")\ndf_TipoCarga <- df_TipoCarga %>% slice(-1)\npuertos_Caribe <- c(\"Cartagena\", \"Santa Marta\", \"Barranquilla\", \"Urabá y del Darién\", \"Coveñas\",\"Puerto Bolívar\", \"Riohacha\", \"San Andrés\", \"Providencia\")\npuertos_Pacifico <- c( \"Buenaventura\", \"Tumaco\", \"Guapi\", \"Bahía Solano\")\ndf_TipoCarga <- df_TipoCarga %>% filter( !(x2 %in% puertos_Caribe))\ndf_TipoCarga <- df_TipoCarga %>% filter( !(x2 %in% puertos_Pacifico))\npuertos <- c(puertos_Caribe, puertos_Pacifico) %>% \n  gsub(\" \", \"\", .)\nzz_puertos <- rep(puertos, each = 9) \nzz_puertos <- c(\"puerto\", zz_puertos)\ndf_TipoCarga <- df_TipoCarga %>% mutate(x1a = zz_puertos, .after = x1)\ndf_TipoCarga[1, 3] <- \"tipoBarco\"\nmy_anos <- 2018:2024\nn_my_anos <- length(2018:2024)\nmeses <- c(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\",\n           \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\")\nmy_xx <- 1  #- xq no hay dif entre internacional y nacional\nzz1 <- rep(my_anos, each = (12+1)*my_xx) ; zz1 ; length(zz1) \nzz3a <- rep(c(meses, \"total\"), each = 1) \nzz3b <- rep(zz3a,  times = n_my_anos) ; zz3b ; length(zz3b) \nzz4 <- paste(zz3b, zz1, sep = \"_\")  ; zz4; length(zz4)\nzz5 <- c(\"region\", \"puerto\", \"puertBarco\", zz4) ; length(zz5)\nnames(df_TipoCarga) <- zz5 ; length(zz5)\ndf_TipoCarga <- df_TipoCarga %>% slice(-1)\ndf_TipoCarga <- df_TipoCarga %>% pivot_longer(4:length(df_TipoCarga))\ndf_TipoCarga <- df_TipoCarga %>% \n  tidyr::separate_wider_delim(col = name, \n                              names = c(\"mes\", \"year\"), \n                              delim = \"_\")\ndf_TipoCarga <- df_TipoCarga %>% mutate(value = as.numeric(value))\n\ndf_CargaPuerto <- rio::import(\"https://www.supertransporte.gov.co/documentos/2025/noviembre/Puertos_12/Historico_2017-2024.xlsx\", col_names = TRUE, skip = 2)\ndf_CargaPuerto <- df_CargaPuerto %>% slice(-c(13:48))|>rename(\"Ciudad\"=\"FECHA - Trimestre / ZONA_PORTUARIA\")|> tidyr::pivot_longer(cols = -c(Ciudad), names_to =\"Trimestre\", values_to = \"Carga_Portuaria\" )\ndf_CargaPuerto <- df_CargaPuerto|>tidyr::separate_wider_delim(col = Trimestre, \nnames = c(\"Trimestre\",\"year\"), delim = \"-\")|> mutate(Costa = case_when(Ciudad %in% c(\"Buenaventura\", \"Tumaco\") ~ \"Pacífico\", Ciudad %in% c(\"Barrancabermeja\", \"Río Magadalena\") ~ \"Fluvial\", Ciudad %in% c(\"Barranquilla\", \"Cartagena\", \"Ciénaga\",\"G. Morrosquillo\", \"Guajira\", \"San Andrés\", \"Santa Marta\", \"Turbo\") ~ \"Caribe\"))\n\nrm(list = setdiff(ls(), c(\"df_TM_Puerto\",\"df_C.Arribo\",\"df_tipoBarco\",\"df_TipoCarga\", \"df_CargaPuerto\")))\n\n```\n\n:::\n\n---\n\n# 3. Mapa de los Principales Puertos\n\nComo primera etapa del análisis, y para comprender la distribución logística del país, presentamos a continuación la ubicación geoespacial de los 5 principales puertos en Colombia. Hemos generado la cartografía utilizando el paquete sf, lo que nos permite visualizar la concentración de infraestructura en la Costa Caribe frente a la dependencia de un único gran nodo en el Pacífico.\n\n\n```{r}\n#| label: mapa-puertos\n#| message: false\n#| warning: false\n#| code-fold: true\n\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(ggrepel)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n\n# 1. Datos de los 5 Puertos Principales\npuertos_df <- data.frame(\n  nombre = c(\"Cartagena\", \"Santa Marta\", \"Barranquilla\", \"Puerto Bolívar\", \"Buenaventura\"),\n  lat = c(10.3910, 11.2408, 10.9685, 12.2333, 3.8801),\n  lon = c(-75.4794, -74.1990, -74.7813, -71.9667, -77.0312),\n  zona = c(\"Caribe\", \"Caribe\", \"Caribe\", \"Caribe\", \"Pacífico\")\n)\n\n# 2. Convertir a objeto espacial (sf)\npuertos_sf <- st_as_sf(puertos_df, coords = c(\"lon\", \"lat\"), crs = 4326)\n\n# 3. Mapa base y visualización\ncolombia_sf <- ne_countries(scale = \"medium\", returnclass = \"sf\", country = \"Colombia\")\n\nggplot() +\n  geom_sf(data = colombia_sf, fill = \"#F5F5F5\", color = \"gray60\") +\n  geom_sf(data = puertos_sf, aes(color = zona), size = 3) +\n  geom_text_repel(data = puertos_df, aes(x = lon, y = lat, label = nombre),\n                  box.padding = 1.5) +\n  theme_bw() +\n  labs(title = \"Localización de los 5 Puertos Principales\",\n       x = NULL, y = NULL) +\n  theme(legend.position = \"bottom\")\n\n```\n\n\n# 4. Sistema portuario nacional: Un desafío Geográfico\n\nComo hemos explicado antes, Colombia tiene una ventaja competitiva única: es el único país de Sudamérica con salida a dos océanos, el **Pacífico** y el **Atlántico (Mar Caribe)**. Gracias a esto, puede comerciar fácilmente con Asia, Europa y Norteamérica.\n\nSin embargo, hay una gran diferencia entre las dos zonas. Históricamente, los puertos no han crecido por igual: la infraestructura y el volumen de carga se han concentrado mucho en la **Costa Caribe**.\n\n### ¿Por qué existe este desequilibrio?\nLa razón principal son las montañas. Como vemos en el mapa, la **Cordillera de los Andes** cruza el país de sur a norte y se divide en tres ramas.\n\nEstas montañas (en marrón oscuro) funcionan como un muro natural que deja aislada a la **Costa Pacífica** del centro del país donde están las ciudades más importantes (Bogotá, Medellín, Cali).\n\nEn cambio, hacia el norte las montañas bajan y se vuelven llanuras (en verde). Esto hace que sea mucho más fácil llegar a la **Costa Caribe** por carretera o por el río Magdalena. Por eso, el Caribe siempre ha sido la entrada y salida principal de Colombia.\n\n---\n\n```{r}\n#| label: imagen-relieve-andes \n#| code-fold: true \n#| fig-cap: \"Mapa físico de Colombia. Se observa claramente cómo las tres cordilleras andinas bloquean el acceso al Pacífico, mientras que el Caribe es más llano y accesible.\" \n#| fig-align: \"center\" #Para centrar la imagen\n#| out-width: \"70%\"  \n# Usamos knitr para mostrar la imagen directamente desde Wikimedia \nknitr::include_graphics(\"https://upload.wikimedia.org/wikipedia/commons/8/8a/Colombia_relief_location_map_cropped.svg\")\n```\n\n---\n\n\nEn esta fotografía podemos observar cómo los Andes aíslan el océano Pacífico.\n\n![Relieve de Colombia: La barrera natural de los Andes aísla el Pacífico. (Fuente: Wikimedia Commons)](https://upload.wikimedia.org/wikipedia/commons/d/d4/%C3%81rea_Cultural_Andina_-_Divisi%C3%B3n.PNG){fig-align=\"center\"}\n\n\n\nEl sistema se divide en **Zonas Portuarias** con funciones distintas:\n* **Región Caribe:** Es la que mueve más variedad de productos. Aquí están **Cartagena** (contenedores y turismo), **Santa Marta** (carbón) y **Barranquilla** (funciona como puerto de río y marítimo).\n* **Región Pacífico:** Su punto fuerte es **Buenaventura**. Es esencial para traer mercancía de Asia, aunque es difícil llegar allí por tierra.\n* **Región Fluvial:** Se centra en **Barrancabermeja**, clave para transportar petróleo hacia la refinería.\n\n\n## 4.1. Análisis Gráfico y Exploratorio\nAhora, vamos a analizar los datos que hemos preparado para comprobar lo que dijimos antes y entender cómo funciona el tráfico marítimo actualmente.\n\n### 4.1.1. Evolución del volumen de carga (Top Puertos)\n\nPrimero, analizamos la tendencia en el tiempo. Como hay muchas zonas pequeñas que podrían desordenar el gráfico, hemos filtrado los datos para ver sólo los **6 puertos más importantes** según volumen histórico. Queremos ver si el tráfico ha subido después de la pandemia y qué puertos son los líderes.\n\n\n```{r}\n#| warning: false \n#| message: false \n# 1. Preparación de los datos\ndf_grafico1 <- df_CargaPuerto %>%\nmutate(year = as.numeric(year)) %>% # Aseguramos que el año sea numérico para el eje X \n# Calculamos el total histórico por ciudad para saber cuáles son los \"grandes\" group_by(Ciudad) %>%\nmutate(total_historico = sum(Carga_Portuaria, na.rm = TRUE)) %>%\nungroup()\n# 2. Filtro: Nos quedamos solo con los nombres del Top 6\ntop_puertos <- unique(df_grafico1 %>% arrange(desc(total_historico)) %>% pull(Ciudad))[1:6]\n# Filtramos la base de datos original para mantener solo esas ciudades top\ndf_grafico1 <- df_grafico1 %>% filter(Ciudad %in% top_puertos)\n# 3. Sumamos la carga por año y ciudad \ndf_grafico1 <- df_grafico1 %>% \ngroup_by(year, Ciudad) %>%\nsummarise(Carga = sum(Carga_Portuaria, na.rm = TRUE), .groups = 'drop')\n\n```\n\n---\nVemos la evolución temporal con un gráfico de líneas, que es donde mejor se va a ver la serie de tiempo:\n---\n\n```{r}\n#| warning: false\n#| code-fold: true\n#- Gráfico de líneas\np <- ggplot(data = df_grafico1, \nmapping = aes(x = year, y = Carga, color = Ciudad)) + \ngeom_line(linewidth = 1) + # Línea un poco más gruesa para visibilidad\ngeom_point(size = 2) + # Puntos para marcar cada año\nscale_y_continuous(labels = scales::label_number(scale = 1e-6, suffix = \" M\")) + # Formato Millones\ntheme_minimal() # Tema limpio\n\np + labs(title = \"Evolución de carga (Top 6 Puertos)\",\nsubtitle = \"Toneladas que se mueven anualmente\", \ny = \"Millones de Toneladas\", \ncolor = \"Zona Portuaria\") \n```\n\n\n   \n### 4.1.2. Comparativa: Caribe vs Pacífico\n\nPara comprobar si es verdad que el Caribe domina por la barrera de los Andes, comparamos directamente el volumen de carga del último año completo (2023).\n\nPara eso agrupamos manualmente las ciudades en sus regiones geográficas:\n\n```{r}\n#| warning: false\n#| code-fold: true \n\n# 1. Clasificación Geográfica \ndf_grafico2 <- df_CargaPuerto %>%\nmutate(year = as.numeric(year)) %>%\nfilter(year == 2023) %>% \n# Creamos la columna 'Region' \nmutate(Region = case_when\n( Ciudad %in% c(\"Buenaventura\", \"Tumaco\") ~ \"Pacífico\",\nCiudad %in% c(\"Barrancabermeja\", \"Río Magdalena\") ~ \"Fluvial\",\nTRUE ~ \"Caribe\"   )) %>% # El resto (Cartagena, etc.) asumimos que son Caribe \n\n# 2. Sumamos el total por región\ngroup_by (Region) %>%\nsummarise(Total = sum(Carga_Portuaria, na.rm = TRUE)) %>%\n\n# Calculamos el porcentaje para entender la proporción\n  mutate(Porcentaje = Total / sum(Total))\n  \n\n```\n\n---\nHacemos el gráfico de barras, que confirma la teoria:\n---\n\n```{r}\n#| warning: false\n#| code-fold: true\n#Gráfico de barras\np <- ggplot(df_grafico2, aes(x = reorder(Region, -Total), y = Total, fill = Region)) + geom_col() + \n  \n# Añadimos etiquetas de texto con el porcentaje encima de las barras\n  geom_text(aes(label = scales::percent(Porcentaje, accuracy = 1)),\nvjust = -0.5, fontface = \"bold\") + \nscale_y_continuous(labels = scales::label_number(scale = 1e-6, suffix = \" M\")) + scale_fill_manual(values = c(\"Caribe\"=\"blue\", \"Pacífico\"=\"orange\", \"Fluvial\"=\"green\")) + theme_light() \n\np + labs(title = \"Distribución de Carga por Región (2023)\",\nsubtitle = \"Predominio claro de la costa Caribeña\", \nx = \"Región\", \ny = \"Total Toneladas\") + \ntheme(legend.position = \"none\")\n```\n\n---\n\n\nSe ve claramente que el Caribe mueve la mayor parte de la carga del país. Esto confirma que la barrera de los Andes frena el crecimiento de la región Pacífico.\n\n### 4.1.3. Naturaleza del Tráfico: Nacional o Internacional?\n\nEs imprescindible distinguir el propósito de los buques que arriban. ¿Son barcos grandes que traen mercancía de otros países (Comercio Exterior) o barcos más pequeños que se mueven solo entre puertos de Colombia (Cabotaje)?\n\n```{r}\n#| warning: false\n#| code-fold: true\n# Agrupar datos\n# Agrupación simple por año y tipo de tráfico\ndf_grafico3 <- df_C.Arribo %>%\nmutate(year = as.numeric(year)) %>%\ngroup_by(year, tipo) %>%\nsummarise(Total = sum(value, na.rm = TRUE), .groups = 'drop')\n```\n\n\n\nY el gráfico:\n\n```{r}\n#| warning: false\n#| code-fold: true\n#- Gráfico de barras \np <- ggplot(df_grafico3, aes(x = factor(year), y = Total, fill = tipo)) + \n# 'dodge' coloca las barras una al lado de la otra para comparar mejor\ngeom_col(position = \"dodge\") + \nscale_fill_manual(values = c(\"blue\", \"red\"), labels = c(\"Internacional\", \"Nacional\")) + \ntheme_minimal() \n\np + labs(title = \"Arribos de Buques: Nacional vs Internacional\", \nx = \"Año\", \ny = \"Número de Arribos\", \nfill = \"Tipo de Tráfico\")\n```\n\n\nCon esto terminamos el análisis de los puertos colombianos.\n\n\n---\n\n# 5. Tipos de barcos que llegan\n\nColombia, como país bioceánico, recibe todo tipo de barcos, siendo la mayoría de ellos de origen nacional, como podemos observa en el gráfico. Entre 2018 y 2023 se registró un aumento sostenido en el número de embarcaciones que arribaron a los puertos colombianos. La disminución observada en 2024 no corresponde a una caída real del tráfico marítimo, sino que se debe a la falta de información del último trimestre del año en la base de datos utilizada.\n\nDentro de esta tendencia creciente, destaca el incremento registrado a partir de 2021, explicado por la rápida recuperación económica posterior a la pandemia y por la necesidad de fortalecer una flota logística local, proceso que estuvo fuertemente influenciado por los cuellos de botella en las cadenas de suministro. No obstante, este cambio ya venía gestándose desde años anteriores, ya que en 2018 la presencia de barcos nacionales e internacionales era prácticamente equivalente; sin embargo, a partir de 2019 comenzó a evidenciarse una modificación progresiva en esta proporción, con un aumento constante de las embarcaciones nacionales, tendencia que se intensificó desde 2020 y consolidó la predominancia de la flota nacional en los años posteriores.\n\n\n```{r}\n#| code-fold: true\nR.NacInt <- df_C.Arribo|> group_by(year)|>filter(mes==\"total\")|> ggplot(aes(x=year, y=value, fill = tipo ))+geom_col()+theme_bw()+scale_y_continuous(labels = label_comma(accuracy = 1))+\n  theme(panel.background = element_rect(fill = \"lightyellow\", color = NA))+labs(title=\"Evolución de la procedencia de barcos que llegan a \\npuertos colombianos (2018-2024)\", x=\"Años\",y=\"Arribos\", fill=\"Tipo\" )+ scale_fill_discrete(name = \"Tipo de Navegación\",  labels = c( \"internac\" = \"Tráfico Internacional\",\"nacional\"= \"Tráfico Nacional\"))\nR.NacInt\n\n```\n\nLa mayoría de estos barcos arriban principalmente a los puertos del Atlántico. Como se observa en la siguiente gráfica, correspondiente a los barcos arribados en 2024, los puertos del Atlántico reciben un mayor número de embarcaciones tanto nacionales como internacionales, lo que corrobora la afirmación de que la costa caribeña presenta una mayor actividad portuaria que la costa pacífica.\n\n```{r}\n#| warning: false\n#| code-fold: true\nR.NacInt <- df_C.Arribo|> filter(year==\"2024\",mes==\"total\")|> ggplot(aes(x=region, y=value, fill = tipo ))+geom_col()+theme_bw()+ theme(panel.background = element_rect(fill = \"lightyellow\", color = NA))+labs(title=\"Procedencia de barcos que llegan a puertos colombianos en el 2024\", x=\"Años\",y=\"Arribos\", fill=\"Tipo\" )+scale_fill_discrete(name = \"Tipo de Navegación\",  labels = c( \"internac\" = \"Tráfico Internacional\",\"nacional\"= \"Tráfico Nacional\"))\nR.NacInt\n```\n\nEn particular, el tráfico marítimo de la costa caribeña se concentra en los puertos de Cartagena, Santa Marta y Coveñas, los cuales ocupan el primer, segundo y tercer lugar, respectivamente, entre los puertos con mayor recepción de embarcaciones. En contraste, en la costa pacífica el puerto de Buenaventura presenta el mayor flujo de barcos y se ubica en el cuarto lugar a nivel nacional en tráfico portuario.\n\n```{r}\n#| warning: false\n#| code-fold: true\nlibrary(patchwork)\nNacInt <- df_C.Arribo|> filter(year==\"2024\")|> ggplot(aes(x=puerto, y=value, fill = tipo ))+geom_col()+theme_bw()+theme(axis.text.x = element_text( angle = 60, hjust = 1)) +theme(panel.background = element_rect(fill = \"lightyellow\", color = NA))+ labs(title=\"Procedencia de barcos que llegan a cada puertos colombianos en el 2024\", x=\"Años\",y=\"Arribos\", fill=\"Tipo\" )+scale_fill_discrete(name = \"Tipo de Navegación\",  labels = c( \"internac\" = \"Tráfico Internacional\",\"nacional\"= \"Tráfico Nacional\"))\ntablaarribo <-df_C.Arribo|>filter(year==\"2024\",tipo==\"nacional\", mes==\"enero\")|>select(region,puerto)\nDT::datatable(tablaarribo)\nNacInt\n\n```\n\nDe los barcos que llegan, la mayoría son buques de carga, seguidos, a gran distancia, por embarcaciones recreativas. La pandemia provocó una caída significativa en la llegada de buques recreacionales, pero a partir de 2022 se observa una recuperación.\nEn 2024 se aprecia una disminución general en todos los tipos de barcos, lo cual se debe a que la base de datos consultada no incluía información del último trimestre del año, como mencionamos anteriormente.\n\n```{r}\n#| warning: false\n#| code-fold: true\nR.TipoBarco <- df_tipoBarco|>group_by(year)|>filter(tipo==\"Actividad\")|> ggplot(aes(x=year,y=value,fill = actividad_y_motivo_de_arribo))+geom_col()+scale_fill_brewer(palette = \"Set1\")+\n  labs(title = \"Tipo de barcos que arriban a puertos colombianos (2018-2024)\", x=\"Años\",y=\"Arribos\", fill = \"Tipo de barco\")+theme_bw()+theme(panel.background = element_rect(fill = \"lightblue3\", colour = \"white\"))\nR.TipoBarco\n```\n\nAlgunos barcos llegan a Colombia por motivos especiales, es decir, por razones distintas al comercio regular; principalmente por aprovisionamiento, como se puede observar en la gráfica.\n\n```{r}\n#| warning: false\n#| code-fold: true\nR.ActiviadBarco <- df_tipoBarco|>group_by(year)|>filter(tipo==\"M.Arribo_Especial\")|> ggplot(aes(x=year,y=value,fill = actividad_y_motivo_de_arribo))+geom_col()+theme_bw()+theme(panel.background = element_rect(fill = \"lightyellow1\", colour = \"white\"))+labs(title=\"Motivos de arribo especiales a puertos colombianos (2018-2024)\", x=\"Años\",y=\"Arribos\",fill=\"Motivos de arribo especiales\")\nR.ActiviadBarco\n```\n\n\n---\n\n## 5.1 Tipo de barcos de carga que llegan a puertos colombianos\n\nLos barcos de carga que arriban a los puertos colombianos están compuestos principalmente por portacontenedores, seguidos por graneleros y tanqueros. Esto se debe a que los portacontenedores son fundamentales para el transporte de mercancía general y bienes manufacturados, como la exportación de café, una de las principales exportaciones del país, así como la importación de diversos bienes. En el caso de los graneleros, su presencia responde a la exportación de minerales, como el carbón y el hierro, y a la importación de alimentos, como cereales, además de otros insumos, entre ellos los fertilizantes. Por su parte, la llegada de tanqueros se explica porque Colombia es un importante productor de petróleo.\n\n```{r}\n#| warning: false\n#| code-fold: true\nCategoria <- df_TipoCarga|>group_by(year)|>filter(mes==\"total\")|>ggplot(aes(x=year,y=value, fill = puertBarco))+geom_col()+labs(title = \"Tipos de barcos de carga que llegan a Colombia (2018-2024)\",x=\"Años\",y=\"Arribos\",fill=\"Tipo de cargero\")+scale_fill_brewer(palette = \"Set3\")+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))\nCategoria \n```\n\n### 5.1.1. Tipo de barcos de carga que llegan a puertos colombianos por costa\n\nEn la siguiente gráfica se puede observar que, en 2023, la costa atlántica recibió una mayor cantidad de barcos de carga de todos los tipos, lo que respalda el argumento de que la costa pacífica tiene un menor movimiento portuario en comparación con la costa caribeña.\n\n```{r}\n#| warning: false\n#| code-fold: true\nCategoria <- df_TipoCarga|>group_by(region)|>filter(mes==\"total\", year==\"2023\")|>ggplot(aes(x=region,y=value, fill = puertBarco))+geom_col(position = \"dodge\")+labs(title = \"Tipos de barcos de carga que llegan a Colombia (2023)\",x=\"Costa\",y=\"Arribos\",fill=\"Tipo de cargero\")+scale_fill_brewer(palette = \"Set3\")+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))+annotate(\"rect\",xmin = 1.5, xmax = 2.5,ymin = -Inf, ymax = Inf,alpha = 0.2, fill = \"red\")+ annotate(\"rect\",xmin = 0.5, xmax = 1.5,ymin = -Inf, ymax = Inf,alpha = 0.2, fill = \"green2\")\n           \nCategoria\n```\n---\n\n# 6. Evolución de la carga portuario\n\n::::: columns\n::: {.column width=\"35%\"}\n```{r}\n#| code-fold: true\n#| warning: false\n#| fig-width: 4 \n#| fig-height: 3 \nTraf.Marit <- df_CargaPuerto|>group_by(year)|>mutate(Traf_anual=sum(Carga_Portuaria))|> filter(Trimestre==\"Trim. 4 \", Ciudad%in%c(\"Barrancabermeja\"))|>mutate(year = as.numeric(as.character(year)))|> select(year,Traf_anual)|> ggplot(aes(x=year,y=Traf_anual,group = 1))+geom_line(color=\"blue3\", size=1.2)+geom_point(size=2.5, color= \"firebrick3\")+theme_bw() +scale_y_continuous(labels = label_comma(accuracy = 1))+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))+labs(title=\"Carga portuaria en Colombia 17-24\",x=\"Años\",y=\"Movimiento de carga\")\nTraf.Marit <- Traf.Marit+transition_reveal(year)\nTraf.Marit\n```\n:::\n\n::: {.column width=\"65%\"}\nEl movimiento de carga portuaria en Colombia experimentó una caída entre 2018 y 2020, con una disminución particularmente pronunciada en 2019 debido a la pandemia. A partir de 2020, la actividad portuaria comenzó a recuperarse; sin embargo, en 2022 volvió a disminuir como consecuencia de la inflación mundial y la guerra en Ucrania, que encareció el transporte marítimo. A partir de finales de 2022, se registró una rápida recuperación del movimiento portuario, impulsada por la recuperación económica global y las sequías en el Canal de Panamá, que obligaron a varios barcos a dirigirse a puertos colombianos.\n:::\nSe estima que el tráfico de carga en Colombia podría disminuir en 2025 debido al Fenómeno del Niño, que aumenta los riesgos de navegación en ciertos meses del año y afecta la seguridad portuaria. Además, este fenómeno meteorológico podría reducir la cosecha de café, una de las principales exportaciones del país junto con el petróleo. La exportacion de crudo también podría verse afectada, debido al incremento en la producción de petróleo en Estados Unidos, principal comprador del crudo colombiano, impulsado por las políticas extractivas de la administración de Trump y a la disminución de precios de la OPEP+, lo que hace que el petróleo colombiano sea menos competitivo en el mercado internacional.\n\n```{r}\n#| warning: false\n#| code-fold: true\n\nTraf.Marit <- df_CargaPuerto|>group_by(year)|>mutate(Traf_anual=sum(Carga_Portuaria))|> filter(Trimestre==\"Trim. 4 \", Ciudad%in%c(\"Barrancabermeja\"))|>mutate(year = as.numeric(as.character(year)))|> select(year,Traf_anual)|> ggplot(aes(x=year,y=Traf_anual,group = 1))+geom_line(color=\"blue3\", size=1.2)+geom_point(size=2.5, color= \"firebrick3\")+theme_bw() +scale_y_continuous(labels = label_comma(accuracy = 1))+theme(panel.background = element_rect(fill = \"lightblue4\", colour = \"white\"))+labs(title=\"Evolución de la carga portuario en puertos colombianos (2017-2024)\",x=\"Años\",y=\"Movimiento de carga\")\n\nTraf.Marit\n```\n\n## 6.1. Contribucion por costa en la carga portuaria\n\nEl movimiento de carga portuaria en Colombia se concentra principalmente en la costa atlántica, seguidas por la costa pacífica y los puertos fluviales. Esto se explica porque la población y la actividad económica del país se concentran en la región central y en la costa caribe, y estas zonas cuentan con mejores conexiones hacia el Atlántico. En contraste, la zona pacífica ha permanecido históricamente aislada debido a la presencia de la cordillera de los Andes.\n\nPor su parte, los puertos fluviales mantienen su nivel de movimiento principalmente por la ciudad de Barrancabermeja, que alberga la refinería de petróleo más grande de Colombia y se encuentra cerca del yacimiento de petróleo del Magdalena Medio. Además, su ubicación en el río Magdalena, que desemboca en el Caribe, facilita el transporte de carga desde esta región, aunque su navegabilidad no es constante durante todo el año, lo que limita parcialmente el flujo portuario.\n\n```{r}\n#| warning: false\n#| code-fold: true\nTraf.Marit <- df_CargaPuerto|>group_by(year, Costa)|>mutate(Traf_anual=sum(Carga_Portuaria))|> filter(Trimestre==\"Trim. 4 \")|> ggplot(aes(x=year,y=Traf_anual, fill = Costa))+geom_col()+scale_y_continuous(labels = label_comma(accuracy = 1))+theme_bw()+ labs(title=\"Contribucion por costa en la evolución de la carga portuaria \\nen puertos colombianos (2017-2024)\",x=\"Años\",y=\"Movimiento de carga\")+theme(panel.background = element_rect(fill = \"lightyellow1\", colour = \"white\"))\nTraf.Marit\n```\n---\n\n# 7. Exportaciones e Importaciones\n\nPara este apartado nos centraremos en el dataframe `df_TM_Puerto`, que contiene los datos de tonelaje desglosados por tipo de movimiento; a partir de él generamos el gráfico en el que se puede ver la diferencia entre importaciones y exportaciones marítimas del país .\n\n**Evolución de la Balanza Comercial (Interactiva)**\n\n```{r}\n#| label: grafico-balance-anual-interactivo\n#| code-fold: true\n#| warning: false\n#| message: false\n#| fig-cap: \"Evolución Interactiva de las Toneladas Exportadas vs. Importadas\"\n#| fig-width: 4 \n#| fig-height: 3\nlibrary(plotly) \n\n# 1. CREACIÓN Y LIMPIEZA DE df_comercio (a partir df_TM_Puerto)\ndf_comercio <- df_TM_Puerto %>% \n  select(zona_portuaria, anno_vigencia, exportacion, importacion) %>%\n  rename(Year = anno_vigencia, Zona = zona_portuaria) %>%\n  \n  # Convertir las columnas 'exportacion' e 'importacion' en filas\n  pivot_longer(\n    cols = c(exportacion, importacion),\n    names_to = \"Movimiento\",\n    values_to = \"Total_Ton\"\n  ) %>%\n  # eliminamos NAs\n  filter(!is.na(Total_Ton), Total_Ton > 0)\n\n# 2. CREACIÓN DEL DATAFRAME NECESARIO (df_evolucion_comercio)\ndf_evolucion_comercio <- df_comercio %>%\n  group_by(Year, Movimiento) %>%\n  summarise(Total_Ton = sum(Total_Ton, na.rm = TRUE)) %>%\n  ungroup()\n\n# 3. Crear el gráfico base con ggplot\np_base_balanza <- ggplot(df_evolucion_comercio, aes(x = Year, y = Total_Ton, color = Movimiento,\n                                                text = paste(\"Año:\", Year, \"<br>\",\n                                                             \"Movimiento:\", Movimiento, \"<br>\",\n                                                             \"Toneladas:\", scales::label_comma()(Total_Ton)))) +\n  geom_line(linewidth = 1.2) +\n  geom_point(size = 3) +\n  scale_y_continuous(labels = scales::label_comma(scale = 1e-6, suffix = \" M\")) +\n  scale_color_manual(values = c(\"exportacion\" = \"blue\", \"importacion\" = \"red\")) +\n  theme_minimal() +\n  labs(title = \"Evolución Exportaciones vs Importaciones\",\n       subtitle = \"Volumen en Millones de Toneladas por Año\",\n       y = \"Millones de Toneladas\",\n       x = \"Año\",\n       color = \"Flujo\") +\n  theme(legend.position = \"bottom\")\n\n# 4. Convertir a Plotly para hacerlo interactivo\nggplotly(p_base_balanza, tooltip = \"text\") %>%\n  layout(hovermode = \"x unified\")\n```\n\n\n* **Especialización Portuaria Interactiva: ¿Quién Exporta y Quién Importa?**\n\nIdentificamos los puertos que lideran cada actividad, observando dónde se concentra \nla mayor actividad exportadora e importadora del país.\n\n\n```{r}\n#| label: grafico-top-puertos-interactivo\n#| code-fold: true\n#| warning: false\n#| message: false\n#| fig-cap: \"Top 5 Zonas Portuarias Interactivas: Perfil Exportador vs. Importador\"\n#| fig-width: 4 \n#| fig-height: 3\n\n# 1. CREACIÓN Y LIMPIEZA DE df_comercio \ndf_comercio <- df_TM_Puerto %>%\n  select(zona_portuaria, anno_vigencia, exportacion, importacion) %>%\n  rename(Year = anno_vigencia, Zona = zona_portuaria) %>%\n  pivot_longer(\n    cols = c(exportacion, importacion),\n    names_to = \"Movimiento\",\n    values_to = \"Total_Ton\"\n  ) %>%\n  mutate(Total_Ton = as.numeric(Total_Ton)) %>%\n  filter(!is.na(Total_Ton), Total_Ton > 0)\n\n# 2. CREACIÓN DEL DATAFRAME NECESARIO (df_puertos_ranking)\ndf_puertos_ranking <- df_comercio %>%\n  group_by(Zona, Movimiento) %>%\n  summarise(Total_Ton = sum(Total_Ton, na.rm = TRUE)) %>%\n  ungroup()\n\n# 3. Sacar el Top 5 general (sumando todo)\ntop_5_zonas <- df_puertos_ranking %>%\n  group_by(Zona) %>%\n  summarise(Grand_Total = sum(Total_Ton)) %>%\n  arrange(desc(Grand_Total)) %>%\n  head(5) %>%\n  pull(Zona)\n\n# 4. Crear el gráfico con ggplot\np_base_puertos <- df_puertos_ranking %>%\n  filter(Zona %in% top_5_zonas) %>%\n  ggplot(aes(x = Total_Ton, \n             y = reorder(Zona, Total_Ton), \n             fill = Movimiento,\n             text = paste(\"Puerto:\", Zona, \"<br>\",\n                          \"Flujo:\", Movimiento, \"<br>\",\n                          \"Volumen:\", scales::label_comma()(Total_Ton)))) +\n  geom_col(position = \"dodge\") + \n  scale_x_continuous(labels = scales::label_comma(scale = 1e-6, suffix = \" M\")) +\n  scale_fill_manual(values = c(\"exportacion\" = \"blue\", \"importacion\" = \"red\")) +\n  theme_minimal() +\n  labs(title = \"Top 5 Zonas Portuarias: Perfil Exportador vs Importador\",\n       subtitle = \"Acumulado histórico (Toneladas)\",\n       x = \"Millones de Toneladas\",\n       y = \"Zona Portuaria\",\n       fill = \"Flujo\")\n\n# 5. Convertir a Plotly para hacerlo interactivo\nggplotly(p_base_puertos, tooltip = \"text\") %>%\n  layout(yaxis = list(title = \"Zona Portuaria\"))\n\n```\n\n**Conclusión Económica**\n\n**Balanza Comercial, Flujos y Desafíos Estructurales**\n\nLos datos analizados permiten extraer conclusiones fundamentales sobre la economía portuaria y las dinámicas comerciales de Colombia: como se observa en el primer gráfico, la línea de Exportaciones (Azul) se mantiene consistentemente por encima de la de Importaciones (Roja) en términos de volumen físico (toneladas).\n\n* **Interpretación:** Colombia es un país que, físicamente, envía al exterior mucha más materia de la que recibe. Esto es típico de economías basadas en commodities (carbón y petróleo), que son mercancías muy pesadas y voluminosas.\n\n* **La \"Ilusión\" del Valor:** Es importante notar que, aunque Colombia exporta más toneladas, esto no significa que gane más dinero de lo que lo que gasta. Colombia exporta toneladas de carbón (barato por kilo) e importa contenedores con tecnología y manufacturas (caras por kilo).\n\n—\n\n**Especialización Portuaria**\n\nEl gráfico de barras muestra una clara división del trabajo entre las zonas portuarias, reflejando su especialización económica:\n\n* **Puertos Exportadores de Materias Primas:** Puertos como Ciénaga o Guajira (Puerto Bolívar) son casi exclusivamente exportadores (salida de carbón). Su función está ligada directamente a la demanda energética global.\n\n* **Puertos Mixtos/Importadores:** Puertos como Buenaventura y Cartagena tienen un perfil más mixto o importador, siendo vitales para el abastecimiento interno del país (seguridad alimentaria y bienes de consumo).\n\n---\n\n* **Resumen económico del apartado**\n\nLa salud del tráfico marítimo colombiano depende fuertemente de la demanda internacional de materias primas energéticas, lo cual asegura el volumen de exportación. Al mismo tiempo, el consumo interno sigue dependiendo de la eficiencia de los puertos del Caribe y Pacífico para traer productos manufacturados del exterior, lo cual se traduce en una dependencia estructural de las importaciones de alto valor.\n\n# 8. Conclusión\n\nTras este análisis del tráfico marítimo colombiano confirmamos una estructura logística asimétrica, marcada por la dualidad entre la Costa Caribe y el Pacífico. El estudio geográfico validó la predominancia de la Costa Caribe como el principal centro portuario, mientras que el Pacífico depende críticamente de Buenaventura. Operacionalmente, se demostró que la mayoría de los arribos de buques son de tráfico nacional, y la composición de la flota se concentra en portacontenedores, graneleros y tanqueros, reflejando la especialización de la economía en commodities pesados y el manejo de contenedores.\nEn términos de actividad económica, el sistema mostró que las exportaciones superan a las importaciones en volumen físico (toneladas), una característica esperable de una economía productora de materias primas. Sin embargo, esta actividad está sujeta a la volatilidad del mercado global, como se observó en la evolución temporal del tráfico, sensible a eventos como la pandemia y las crisis de precios. En definitiva, la resiliencia del sistema depende de la eficiencia de los puertos del Caribe para gestionar grandes volúmenes y la mitigación del riesgo en la conexión terrestre de la Costa Pacífica.\n\n# 9. Biografia \n\n- Ministerio de Transporte de Colombia. (s.f.). Tráfico Portuario Marítimo en Colombia. Datos Abiertos Colombia. Recuperado de https://www.datos.gov.co/Transporte/Trafico-Portuario-Mar-timo-En-Colombia/5r3g-zv5z/about_data\n\n- Dirección General Marítima de Colombia (Dimar). (s.f.). Tráfico marítimo. Portal Marítimo Colombiano. Recuperado de https://www.dimar.mil.co/trafico-maritimo\n\n- Superintendencia de Transporte de Colombia. (s.f.). Estadísticas de Tráfico Portuario en Colombia. Supertransporte. Recuperado de https://www.supertransporte.gov.co/index.php/superintendencia-delegada-de-puertos/estadisticas-trafico-portuario-en-colombia/\n\n- Milenioscuro. (2022). Mapa de Colombia (topografía) [Mapa]. Wikimedia Commons. https://commons.wikimedia.org/w/index.php?curid=115522497\n\n- Eniol. (2013). Área Cultural Andina – División [Mapa]. Wikimedia Commons. https://commons.wikimedia.org/w/index.php?curid=25366386\n\n\n\n\n\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"png","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"show","code-overflow":"wrap","code-link":true,"code-line-numbers":true,"code-tools":true,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","include-in-header":[{"text":"<link rel = \"shortcut icon\" href = \"https://c1.klipartz.com/pngpicture/815/839/sticker-png-boat-ship-sign-symbol-ferry-transport-sailing-ship-sailboat.png\" />\n"}],"toc":true,"toc-depth":3,"css":["assets/styles.css"],"highlight-style":"a11y","output-file":"my_trabajo_BigData.html"},"language":{"toc-title-document":"Indice de contenidos","toc-title-website":"En esta página","related-formats-title":"Otros formatos","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Fuente","other-links-title":"Otros Enlaces","code-links-title":"Enlaces de código","launch-dev-container-title":"Iniciar Dev Container","launch-binder-title":"Iniciar Binder","article-notebook-label":"Cuaderno de Artículo","notebook-preview-download":"Descargar Cuaderno","notebook-preview-download-src":"Descargar código fuente","notebook-preview-back":"Volver al Artículo","manuscript-meca-bundle":"Archivo MECA","section-title-abstract":"Resumen","section-title-appendices":"Apéndices","section-title-footnotes":"Notas","section-title-references":"Referencias","section-title-reuse":"Reutilizar","section-title-copyright":"Derechos de autor","section-title-citation":"Cita","appendix-attribution-cite-as":"Por favor cita este trabajo como:","appendix-attribution-bibtex":"BibTeX","appendix-view-license":"Ver Licencia","title-block-author-single":"Autor","title-block-author-plural":"Autores/as","title-block-affiliation-single":"Afiliación","title-block-affiliation-plural":"Afiliaciones","title-block-published":"Fecha de Publicación","title-block-modified":"Fecha de modificación","title-block-keywords":"Palabras clave","callout-tip-title":"Tip","callout-note-title":"Nota","callout-warning-title":"Advertencia","callout-important-title":"Importante","callout-caution-title":"Precaución","code-summary":"Código","code-tools-menu-caption":"Código","code-tools-show-all-code":"Enseñar el código","code-tools-hide-all-code":"Esconder el código","code-tools-view-source":"Ver el código","code-tools-source-code":"Ejecutar el código","tools-share":"Compartir","tools-download":"Descargar","code-line":"Línea","code-lines":"Líneas","copy-button-tooltip":"Copiar al portapapeles","copy-button-tooltip-success":"Copiada","repo-action-links-edit":"Editar esta página","repo-action-links-source":"Ver el código","repo-action-links-issue":"Informar de un problema","back-to-top":"Volver arriba","search-no-results-text":"Sin resultados","search-matching-documents-text":"documentos encontrados","search-copy-link-title":"Copiar el enlace en la busqueda","search-hide-matches-text":"Esconder resultados adicionales","search-more-match-text":"hay más resultados en este documento","search-more-matches-text":"más resultados en este documento","search-clear-button-title":"Borrar","search-text-placeholder":"","search-detached-cancel-button-title":"Cancelar","search-submit-button-title":"Enviar","search-label":"Buscar","toggle-section":"Alternar sección","toggle-sidebar":"Alternar barra lateral","toggle-dark-mode":"Alternar modo oscuro","toggle-reader-mode":"Alternar modo lector","toggle-navigation":"Navegación de palanca","crossref-fig-title":"Figura","crossref-tbl-title":"Tabla","crossref-lst-title":"Listado","crossref-thm-title":"Teorema","crossref-lem-title":"Lema","crossref-cor-title":"Corolario","crossref-prp-title":"Proposición","crossref-cnj-title":"Conjetura","crossref-def-title":"Definición","crossref-exm-title":"Ejemplo","crossref-exr-title":"Ejercicio","crossref-ch-prefix":"Capítulo","crossref-apx-prefix":"Apéndice","crossref-sec-prefix":"Sección","crossref-eq-prefix":"Ecuación","crossref-lof-title":"Listado de Figuras","crossref-lot-title":"Listado de Tablas","crossref-lol-title":"Listado de Listados","environment-proof-title":"Prueba","environment-remark-title":"Observación","environment-solution-title":"Solución","listing-page-order-by":"Ordenar por","listing-page-order-by-default":"Pre-seleccionado","listing-page-order-by-date-asc":"Menos reciente","listing-page-order-by-date-desc":"Más reciente","listing-page-order-by-number-desc":"Número de mayor a menor","listing-page-order-by-number-asc":"Número de menor a mayor","listing-page-field-date":"Fecha","listing-page-field-title":"Título","listing-page-field-description":"Descripción","listing-page-field-author":"Autor/a","listing-page-field-filename":"Nombre de Archivo","listing-page-field-filemodified":"Fecha de modificación","listing-page-field-subtitle":"Sub-título","listing-page-field-readingtime":"Tiempo para completar lectura","listing-page-field-wordcount":"Conteo de Palabras","listing-page-field-categories":"Categorías","listing-page-minutes-compact":"{0} minutos","listing-page-category-all":"Todas","listing-page-no-matches":"No hay resultados","listing-page-words":"{0} palabras","listing-page-filter":"Filtro","draft":"Borrador"},"metadata":{"lang":"es","fig-responsive":true,"quarto-version":"1.8.24","lightbox":true,"anchor-sections":true,"other-links":[{"text":"Web del curso","href":"https://perezp44.github.io/intro-ds-25-26-web/"},{"text":"Trabajos de mis compañeros","href":"https://perezp44.github.io/intro-ds-25-26-web/05-trabajos-estudiantes.html"},{"text":"Repo del trabajo","href":"https://github.com/YHJZ57/trabajo_BigData_equipo"}],"toc-location":"right","toc-title":"Índice","crossref":{"fig-title":"Gráfico","tbl-title":"Tabla"},"fig-cap-location":"bottom","code-copy":true,"knitr":{"opts_chunk":{"collapse":true,"comment":"#>","fig.asp":"7/9","out.width":"95%","fig.align":"center","fig.show":"hold","R.options":"options(scipen = 999)"}},"editor_options":{"chunk_output_type":"console"},"license":"CC BY","page-layout":"full","theme":["cosmo"],"mainfont":"Lato","title":"El tráfico marítimo de Colombia","description":"","author":["Yutao Henry Jiang Zheng (yujiangz@alumni.uv.es)\\n","Lucas Osejo Martínez (luomar2@alumni.uv.es)\\n","Javier Arnau Basagoiti Montagut (jabamon@alumni.uv.es)"],"date":"2025-12-02","categories":["trabajo BigData","Tráfico Marítimo"],"image":"Directions Boat","title-block-banner":"imagenes/Banner_puerto.jpg","title-block-banner-color":"skyblue3","smooth-scroll":true},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}